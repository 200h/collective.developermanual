Creating a portlet
==================

This goes in base.py::

    def render_portlet(factory, view, data=None):
        context = aq_inner(view.context)
        portlet = factory(context, view.request, None, None, data).__of__(context)
        portlet.update()
        return portlet.render()

And this in main.py::
    
    from plone.app.portlets.portlets.navigation import Renderer
    
    class MyNavigation(BaseView):
        def __call__(self):
            html = render_portlet(
                Renderer, self, plone.app.portlets.portlets.navigation.Assignment(includeTop=True))
            return html
            
    class Main(BaseView):
        """
        View class for collective.skinny main template.
        """
    
        parts = {
            'navigation': MyNavigation,
            }
            
I'll leave the package imports as an exercise for the reader :) 
